---
source: 
date: 2024-06-18
tags: 
up: <% tp.file.folder() %>
---
<%tp.file.folder ()%>
分段加载（Chunked Transfer Encoding）是一种HTTP传输机制，允许服务器将数据分段发送给客户端，而不是一次性发送完整的数据。

#### 技术流程：

1. **服务器响应头**：
    
    - 服务器在响应头中包含 `Transfer-Encoding: chunked` 字段，告知客户端响应主体将分段传输。
2. **分块传输**：
    
    - 服务器按需生成数据，并以块为单位发送。每个块由块大小和块数据组成，块大小以十六进制表示，并以 CRLF 结尾。块数据紧随其后，也以 CRLF 结尾。
3. **结束块**：
    
    - 最后一个块大小为0，表示数据传输结束，并以 CRLF 结尾。
4. **客户端处理**：
    
    - 客户端接收到分块数据后，逐块读取并解析，直到遇到大小为0的结束块。

通过分段加载，服务器可以优化资源使用，提高传输效率，尤其适用于动态内容生成或大文件传输场景。
